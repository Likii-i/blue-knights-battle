<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>MBTI Fighters v1.3</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app" class="gb-wrap">
      <main class="gb-device" aria-label="Game shell">
        <aside class="gb-side-display" aria-label="Side display">
          <div class="gb-agent">
            <div class="gb-status-line main" id="status-a-top">A</div>
            <div class="gb-hp-track"><div class="gb-hp-fill a" id="status-a-hp"></div></div>
            <div class="gb-status-line" id="status-a-mid"></div>
            <div class="gb-status-line thought" id="status-a-thought"></div>
          </div>
          <div class="gb-agent">
            <div class="gb-status-line main" id="status-b-top">B</div>
            <div class="gb-hp-track"><div class="gb-hp-fill b" id="status-b-hp"></div></div>
            <div class="gb-status-line" id="status-b-mid"></div>
            <div class="gb-status-line thought" id="status-b-thought"></div>
          </div>

          <div class="gb-action-stack" aria-label="Abilities">
            <button id="ability-primary" class="gb-btn" type="button" aria-label="Primary ability">
              <span class="gb-btn-chip">P</span>
              <span class="gb-btn-text">
                <span class="gb-btn-name" id="ability-primary-name">Primary</span>
                <span class="gb-btn-sub" id="ability-primary-sub">Ready</span>
              </span>
            </button>
            <button id="ability-secondary" class="gb-btn" type="button" aria-label="Secondary ability">
              <span class="gb-btn-chip">S</span>
              <span class="gb-btn-text">
                <span class="gb-btn-name" id="ability-secondary-name">Secondary</span>
                <span class="gb-btn-sub" id="ability-secondary-sub">Ready</span>
              </span>
            </button>
          </div>

          <div class="gb-status-line foot" id="status-player"></div>
        </aside>

        <section class="gb-main-display" aria-label="Game display">
          <canvas id="world" aria-label="World"></canvas>
        </section>
      </main>

      <div id="flow-overlay" class="flow-overlay">
        <section id="flow-profile" class="flow-card">
          <h2>Player Setup</h2>
          <label class="flow-label" for="flow-name">Name</label>
          <input id="flow-name" class="flow-input" type="text" maxlength="22" placeholder="Player name" />
          <label class="flow-label" for="flow-mbti">MBTI</label>
          <select id="flow-mbti" class="flow-select"></select>
          <label class="flow-label" for="flow-hobby">Hobby</label>
          <select id="flow-hobby" class="flow-select"></select>
          <label class="flow-label" for="flow-look">Look (placeholder)</label>
          <select id="flow-look" class="flow-select">
            <option value="CLASSIC">Classic</option>
            <option value="SWIFT">Swift</option>
            <option value="HEAVY">Heavy</option>
          </select>
          <button id="flow-save" class="flow-btn">Save</button>
        </section>

        <section id="flow-hub" class="flow-card" hidden>
          <h2>Play</h2>
          <button id="flow-create-room" class="flow-btn">Create Room</button>
          <div class="flow-row">
            <input id="flow-room-code" class="flow-input" type="text" maxlength="8" placeholder="Room code" />
            <button id="flow-join-room" class="flow-btn small">Join</button>
          </div>
          <button id="flow-matchmaker" class="flow-btn">Matchmaker</button>
        </section>

        <section id="flow-room" class="flow-card" hidden>
          <h2 id="flow-room-title">Room</h2>
          <div id="flow-room-status" class="flow-note"></div>
          <div id="flow-room-code-text" class="flow-code"></div>
          <button id="flow-copy-link" class="flow-btn">Copy Invite Link</button>
          <button id="flow-room-cancel" class="flow-btn subtle" hidden>Leave Queue</button>
          <button id="flow-start-ai" class="flow-btn">Start Vs AI</button>
          <button id="flow-back" class="flow-btn subtle">Back</button>
        </section>

        <div id="flow-error" class="flow-error"></div>
      </div>
    </div>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
